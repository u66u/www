{
  "title": "Creating an Accessible Command Menu in React",
  "publishedAt": "2021-12-31",
  "summary": "Summary of a great year.",
  "image": "/static/images/2021/banner.png",
  "category": "personal",
  "body": {
    "raw": "\nOver the past few months, I've been building my very own [command menu component](https://capiche.com/e/consumer-dev-tools-command-palette) for [React](https://reactjs.org) called [kmenu]. In this post, I want to go over how you can also create your own command menu.\n\nI originally gave this talk at about building a command menu at [React JAX](https://www.meetup.com/react-jax/) which you can watch on [YouTube](https://youtu.be/2DL4QC0QrOg). In the meanwhile, you can follow this tutorial or the [CodeSandbox].\n\nBefore we begin, do feel free to take a peek at [kmenu.hxrsh.in](https://kmenu.hxrsh.in) if you're interested in having a more sophisticated menu.\n\n## Background\n\nCommand menus have an interesting history, and the idea stemmed from basically having a simple and easy way to navigate through an application. The first example of this could be found in [Sublime Text](https://www.sublimetext.com/blog/articles/sublime-text-2-beta), as they announced the beta of Sublime Text 2. Pulled from their blog:\n\n> The Command Palette provides a quick way to access commands that don't warrant a key binding, and would usually be hidden away in a menu. For example, turning Word Wrap on or off, or changing the syntax highlighting mode of the current file. It uses the same fuzzy matching as Goto Anything does, meaning most commands are accessible with just a few key presses.\n\nThis worked like a power tool, and led to more exploration and higher feature discoverability leading to it being adopted by code editors like [Visual Studio Code](https://code.visualstudio.com/docs/getstarted/userinterface). It wasn't long until these command palettes made their way onto web applications.\n\nCompanies such as [Vercel](https://vercel.com), [GitHub](https://docs.github.com/en/get-started/using-github/github-command-palette), [Sentry](https://sentry.io/), [Linear](https://linear.app), [Railway](https://railway.app/), [Raycast](https://www.raycast.com/) and several other web applications ended up adding a command menu to their websites as well. Even desktop applications such as [Discord](https://discord.com/), [Figma](https://figma.com) or [Slack](https://slack.com) feature a command menu to help users navigate their complex interfaces with ease.\n\nWith that, there are a few different approaches for adding a command menu to your website: you can use an open source library (like [kmenu], [cmdk](https://cmdk.paco.me/), or [kbar](https://kbar.vercel.app/)), use a proprietary tool such as [CommandBar](commandbar.com), or build your own. This tutorial focuses on building your own implementation, however you may not need to depending on whether or not you're satisfied with the other options available.\n\nAs said above, in this post, we'll be focusing on building our own command menu implementation. Our menu will be accessible, fully animated, and you can customise it to your needs.\n\n## Getting Started\n\nSince we'll be using [Tailwind CSS](https://tailwindcss.com), I suggest you start by installing and configuring that. Skip over this if your project already uses Tailwind.\n\n```bash:terminal\n# Install Tailwind with peer dependencies\nyarn add tailwindcss postcss autoprefixer -D\n# Generate the Tailwind and PostCSS configuration\nyarn tailwindcss init -p\n```\n\nNext, open up your `tailwind.config.js` and add in your code directories under `content`. This varies depending upon whether or not you're using something like [Create React App](https://tailwindcss.comdocs/guides/create-react-app) or [Next.js](https://tailwindcss.comdocs/guides/nextjs).\n\nThis is also the time to import in any fonts. For my project, I'm going to use [Albert Sans](https://github.com/usted/Albert-Sans), the [brand new font on Google Fonts](https://twitter.com/googlefonts/status/1552983139219378176).\n\nAs a side note: I personally believe that [Tailwind is an anti-pattern](https://javascript.plainenglish.io/tailwind-is-an-anti-pattern-ed3f64f565f0), but I've only used it for the purposes of building this command menu quicker. If your website doesn't already include Tailwind, I heavily advocate that you use a regular CSS approach as opposed to this.\n\nMake sure you also install [Framer Motion](https://framer.com/motion), a production-ready motion library for React. It'll help us in adding awesome motion animations to our command menu.\n\n### Adding Commands\n\nFirst, we'll create a `commands.tsx` file at `components/Menu`, which will store all of our commands. I'm using [react-icons](https://react-icons.github.io/react-icons/), which essentially just bundles together all popular icon packs for easy use.\n\nAnyways, let's begin by creating a `Command` type before we create our array of objects:\n\n```ts:components/Menu/commands.tsx\nimport { ReactElement } from 'react'\n\nexport type Command = {\n  icon: ReactElement\n  text: string\n  perform: () => void\n}\n```\n\nIt's super simple: just an icon, some text, and a perform event which happens on click.\n\nNext, we'll create our command. Create an array of objects of type `Command`, and add in your commands:\n\n```tsx:components/Menu/commands.tsx\n// ...\nimport {\n  SiFramer,\n  SiTailwindcss,\n  SiApple,\n  SiVercel,\n  SiTwitter,\n  SiTesla,\n  SiArchlinux,\n  SiDeno,\n  SiFlutter,\n  SiGithub,\n  SiNike,\n  SiDiscord,\n} from 'react-icons/si'\n\nexport const commands: Command[] = [\n  {\n    icon: <SiFramer />,\n    text: 'Framer Motion',\n    perform: () => window.open('https://framer.com/motion', '_blank'),\n  },\n  {\n    icon: <SiTailwind CSS />,\n    text: 'Tailwind CSS',\n    perform: () => window.open('tailwindcss.com', '_blank'),\n  },\n  {\n    icon: <SiApple />,\n    text: 'Apple',\n    perform: () => window.open('https://apple.com', '_blank'),\n  },\n  {\n    icon: <SiArchlinux />,\n    text: 'Arch Linux',\n    perform: () => window.open('https://apple.com', '_blank'),\n  },\n  {\n    icon: <SiVercel />,\n    text: 'Vercel',\n    perform: () => window.open('https://vercel.com', '_blank'),\n  },\n  {\n    icon: <SiTesla />,\n    text: 'Tesla',\n    perform: () => window.open('https://tesla.com', '_blank'),\n  },\n  {\n    icon: <SiDeno />,\n    text: 'Deno',\n    perform: () => window.open('https://deno.land', '_blank'),\n  },\n  {\n    icon: <SiDiscord />,\n    text: 'Discord',\n    perform: () => window.open('https://discord.com', '_blank'),\n  },\n  {\n    icon: <SiFlutter />,\n    text: 'Flutter',\n    perform: () => window.open('https://flutter.dev/', '_blank'),\n  },\n  {\n    icon: <SiGithub />,\n    text: 'GitHub',\n    perform: () => window.open('https://github.com/', '_blank'),\n  },\n  {\n    icon: <SiNike />,\n    text: 'Nike',\n    perform: () => window.open('https://nike.com/', '_blank'),\n  },\n  {\n    icon: <SiTwitter />,\n    text: 'Twitter',\n    perform: () => window.open('https://twitter.com', '_blank'),\n  },\n]\n```\n\n### Building Our Menu\n\nNow that we finished adding commands, let's get started building our menu. Start by creating the skeleton, which we'll gradually add features to.\n\n```tsx:components/Menu/Menu.tsx\nconst CommandMenu: FC = () => {\n  return (\n    <motion.div\n      className='flex items-center justify-center overflow-hidden fixed w-screen h-screen select-none bg-[#e7e7e7e5]'\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n    >\n      <motion.div\n        className='w-[640px] will-change-auto relative bg-white rounded-lg shadow-2xl'\n        role='dialog'\n        aria-modal='true'\n      >\n        <div className='flex items-center h-16 text-xl pointer-events-none'>\n          <FiSearch className='ml-4' />\n          <input\n            placeholder='Search for anything...'\n            type='text'\n            autoCapitalize='false'\n            autoComplete='false'\n            spellCheck='false'\n            autoFocus\n            className='ml-4 outline-none w-full pointer-events-none'\n          />\n        </div>\n        <motion.ul\n          className='flex overflow-y-auto overflow-x-hidden flex-col w-full transition-all will-change-auto max-h-[320px]'\n          role='listbox'\n        >\n          {commands.map((command, index) => (\n            // ...our command component, which we'll create later\n          ))}\n        </motion.ul>\n      </motion.div>\n    </motion.div>\n  )\n}\n```\n\n### Creating The Command Component\n\nAwesome, now that we have our skeleton, let's create our command component. This will be the thing that we map onto our command menu.\n\n```tsx:components/Menu/Menu.tsx\nconst Command: FC<{\n  command: Command\n}> = ({ command }) => {\n  return (\n    <li>\n      <a\n        href='#'\n        className='flex relative text-lg items-center h-16 cursor-pointer'\n        onClick={command.perform}\n      >\n        <div className='flex items-center relative w-full h-full ml-5'>\n          {command.icon}\n          <p className='max-w-[90%] w-fit m-0 overflow-hidden text-ellipsis text-lg text-black ml-2'>\n            {command.text}\n          </p>\n        </div>\n      </a>\n      <div aria-hidden='true' ref={bottomRef} />\n    </li>\n  )\n}\n```\n\nAwesome. Now, let's head back onto our main component make sure map the command component.\n\n```tsx:components/Menu/Menu.tsx\n{\n  commands.map((command, index) => <Command key={index} command={command} />)\n}\n```\n\nCool. We should now see all of our commands on our screen. They may not look very pretty, but at least they work.\n\n### Implementing Search\n\nSo, as you may have seen, this command menu has a search bar which you can use to search the commands.\n\nFor this, we'll simply use two hook which contains an array of objects called `results` and another hook for the current query:\n\n```tsx:components/Menu/Menu.tsx\nimport type { Command } from './commands.tsx'\n// ...\nconst [query, setQuery] = useState('')\nconst [results, setResults] = useState<Command[] | null>(null)\n```\n\nNext, we'll create a filter function to filter our commands based upon a string.\n\n```ts:components/Menu/Menu.tsx\nconst filter = (query: string): Command[] =>\n  commands.filter((command) =>\n    command.text.toLowerCase().includes(query.toLowerCase())\n  )\n```\n\nNext, we'll use a `useEffect` hook to update the results every time the user types something onto the search bar.\n\n```tsx:components/Menu/Menu.tsx\nuseEffect(\n  () => (query ? setResults(filter(query)) : setResults(null)),\n  [query, setQuery]\n)\n```\n\nAwesome. Now, let's go inside our `input` component and make sure we update our `setQuery` hook on change.\n\n```tsx:components/Menu/Menu.tsx\n<input\n  placeholder='Search for anything...'\n  type='text'\n  autoCapitalize='false'\n  autoComplete='false'\n  spellCheck='false'\n  autoFocus\n  className='ml-4 outline-none w-full pointer-events-none'\n  onChange={(event) => setQuery(event.currentTarget.value)}\n/>\n```\n\nNext, we need to make sure that we map our results instead of the original commands. Head back into your map function and substitute `commands` for `results`.\n\n```tsx:components/Menu/Menu.tsx\n{\n  results?.map((command, index) => <Command key={index} command={command} />)\n}\n```\n\nAwesome. Type something into your search bar, it should work.\n\n### Handling Selection States\n\nOnto the next step: handling which command is currently selected. As you may have seen on the demo, each command could be selected with the keyboard, or if you hovered your mouse over it.\n\nIn [kmenu], I used a [Reducer](https://reactjs.org/docs/hooks-reference.html#usereducer) for this, which is what I suggest you do if you're planning on expanding the features of this menu later on.\n\nHowever, for this, we'll just use a simple `useState` hook:\n\n```tsx:components/Menu/Menu.tsx\nconst [selected, setSelected] = useState(0)\n```\n\nFirstly, let's go inside our `useEffect` for updating our results and make sure we reset the state inside of there every time we search.\n\n```tsx:components/Menu/Menu.tsx\nuseEffect(() => {\n  setSelected(0)\n  return query ? setResults(filter(query)) : setResults(null)\n}, [query, setQuery])\n```\n\nAwesome. Let's create a `navigation` function which we'll wrap around a `useCallback`, which will contain logic for changing the selection with our keyboard.\n\nThis checks for things like whether or not we're at the start or end of our command menu, and also works with using the tab keys.\n\n```tsx:components/Menu/Menu.tsx\nconst navigation = useCallback(\n  (event: KeyboardEvent) => {\n    if (results !== null) {\n      const length = results.length - 1\n\n      if (event.key === 'ArrowUp' || (event.key === 'Tab' && event.shiftKey)) {\n        event.preventDefault()\n        setSelected(() => (selected === 0 ? 0 : selected - 1))\n      } else if (event.key === 'ArrowDown' || event.key === 'Tab') {\n        event.preventDefault()\n        setSelected(selected === length ? length : selected + 1)\n      }\n    }\n  },\n  [results, selected]\n)\n```\n\nMake sure you create a new `useEffect` hook for adding and removing event listeners.\n\n```tsx:components/Menu/Menu.tsx\nuseEffect(() => {\n  window.addEventListener('keydown', navigation)\n  return () => window.removeEventListener('keydown', navigation)\n}, [navigation])\n```\n\nCool. Let's now go into our `Command` component and add in props to handle selection.\n\n```tsx:components/Menu/Menu.tsx\nconst Command: FC<{\n  command: Command\n  onMouseMove: () => void\n  selected: boolean\n}> = ({ command, onMouseMove, selected }) => {\n```\n\n...and since we've done that, we need to change our map accordingly.\n\n```tsx:components/Menu/Menu.tsx\n{\n  results?.map((command, index) => (\n    <Command\n      key={index}\n      onMouseMove={() => setSelected(index)}\n      selected={selected === index}\n      command={command}\n    />\n  ))\n}\n```\n\nNext, we'll create a `perform` function which would be inside a `useCallback` hook, essentially checking whether or not the user has pressed the enter key and if the command is currently selected. If it is, then just run the perform function.\n\n```tsx:components/Menu/Menu.tsx\nconst perform = useCallback(\n  (event: KeyboardEvent) => {\n    if (event.key === 'Enter' && selected) return command.perform()\n  },\n  [command, selected]\n)\n\nuseEffect(() => {\n  window.addEventListener('keydown', perform)\n  return () => window.removeEventListener('keydown', perform)\n})\n```\n\nLet's also make sure we select a command when we hover over it. For this, we'll pass in our `onMouseMove` prop onto our element:\n\n```tsx:components/Menu/Menu.tsx\n<a\n  href='#'\n  className='flex relative text-lg items-center h-16 cursor-pointer'\n  onMouseMove={onMouseMove}\n  onClick={command.perform}\n>\n```\n\nWe should now be able to navigate through our command menu with our arrow keys and enter, but we have no indication of which component we're currently on. To do so, let's add a bar which smoothly animates over onto our component when we select it.\n\n```tsx:components/Menu/Menu.tsx\n{\n  selected && (\n    <motion.div\n      layoutId='box'\n      className='bg-[#00000010] absolute w-full h-16'\n      initial={false}\n      aria-hidden='true'\n      transition={{\n        type: 'spring',\n        stiffness: 1000,\n        damping: 70,\n      }}\n    />\n  )\n}\n```\n\nWe're making some awesome progress, and our command menu should now be navigable with our arrow keys or hovering over options.\n\n### Toggling The Menu\n\nLet's move onto another important toggling our command menu. We'll also be using a hook for this:\n\n```tsx:components/Menu/Menu.tsx\nconst [open, setOpen] = useState(false)\n```\n\nAwesome. Let's create a function called `toggle`, in which we handle the state of the bar for both computers and mobile phones.\n\n```tsx:components/Menu/Menu.tsx\nconst toggle = (event: KeyboardEvent) => {\n  if ((event.ctrlKey || event.metaKey) && event.key === 'k') {\n    event.preventDefault()\n    setOpen((open) => !open)\n    setQuery('')\n    setResults(null)\n  }\n\n  if (event.key === 'Escape') {\n    setOpen(false)\n    setQuery('')\n    setResults(null)\n  }\n}\n\nconst mobileToggle = (event: TouchEvent) => {\n  if (event.touches.length >= 2) {\n    event.preventDefault()\n    setOpen((open) => !open)\n  }\n}\n```\n\nHere, it checks if we've pressed cmd+k on our keyboard (if we're on PC) to toggle our menu. If instead we've pressed `Escape`, it closes our menu. For mobile phones, it just checks if the user has double tapped on their screen to close the menu. We will also work on toggling the menu if the user clicks outside later.\n\nAnyways, add more event listeners for these commands:\n\n```tsx:components/Menu/Menu.tsx\nuseEffect(() => {\n  window.addEventListener('keydown', toggle)\n  window.addEventListener('touchstart', mobileToggle)\n  return () => {\n    window.removeEventListener('keydown', toggle)\n    window.removeEventListener('touchstart', mobileToggle)\n  }\n}, [])\n```\n\nLet's also go inside our navigation command and check if our bar is actually open so we don't disable tab functionality.\n\nJust add a simple check at the top of the if-statement, and also add it to the dependency array:\n\n```tsx:components/Menu/Menu.tsx\nconst navigation = useCallback(\n  (event: KeyboardEvent) => {\n    if (results !== null && open) {\n      const length = results.length - 1\n\n      if (event.key === 'ArrowUp' || (event.key === 'Tab' && event.shiftKey)) {\n        event.preventDefault()\n        setSelected(() => (selected === 0 ? 0 : selected - 1))\n      } else if (event.key === 'ArrowDown' || event.key === 'Tab') {\n        event.preventDefault()\n        setSelected(selected === length ? length : selected + 1)\n      }\n    }\n  },\n  [results, selected, open]\n)\n```\n\nAfter we've done that, we also need to make that our bar actually closes after we run a command. For this, we need to pass it in as a prop on the component:\n\n```tsx:components/Menu/Menu.tsx\nconst Command: FC<{\n  command: Command\n  onMouseMove: () => void\n  selected: boolean\n  setOpen: Dispatch<SetStateAction<boolean>>\n}> = ({ command, onMouseMove, selected, setOpen }) => {\n```\n\n...and after we've done that, let's just update our map function:\n\n```tsx:components/Menu/Menu.tsx\n{\n  results?.map((command, index) => (\n    <Command\n      key={index}\n      onMouseMove={() => setSelected(index)}\n      selected={selected === index}\n      command={command}\n      setOpen={setOpen}\n    />\n  ))\n}\n```\n\nNow, inside of our `perform` function, just close the menu and add the hook to the dependency array.\n\n```tsx:components/Menu/Menu.tsx\nconst perform = useCallback(\n  (event: KeyboardEvent) => {\n    if (event.key === 'Enter' && selected) {\n      setOpen(false)\n      return command.perform()\n    }\n  },\n  [command, selected, setOpen]\n)\n```\n\nLet's finish this off by actually creating a toggle state for the bar and toggling its appearance, we'll be using [AnimatePresence](https://www.framer.com/docs/animate-presence/) to animate components as they're removed from the React tree.\n\nLet's move our entire component inside of this:\n\n```tsx:components/Menu/Menu.tsx\nimport { AnimatePresence } from 'framer-motion'\n// ...\nreturn (\n  <AnimatePresence>\n    {open && (\n      <motion.div\n        className='flex items-center justify-center overflow-hidden fixed w-screen h-screen select-none bg-[#e7e7e7e5]'\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n      >\n        <motion.div\n          className='w-[640px] will-change-auto relative bg-white rounded-lg shadow-2xl'\n          role='dialog'\n          aria-modal='true'\n          initial={{ opacity: 0, y: 40 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0, y: 40 }}\n        >\n          <div className='flex items-center h-16 text-xl pointer-events-none'>\n            <FiSearch className='ml-4' />\n            <input\n              placeholder='Search for anything...'\n              type='text'\n              autoCapitalize='false'\n              autoComplete='false'\n              spellCheck='false'\n              autoFocus\n              className='ml-4 outline-none w-full pointer-events-none'\n              onChange={(event) => setQuery(event.currentTarget.value)}\n            />\n          </div>\n          <motion.ul\n            className='flex overflow-y-auto overflow-x-hidden flex-col w-full transition-all will-change-auto max-h-[320px]'\n            role='listbox'\n          >\n            {results?.map((command, index) => (\n              <Command\n                key={index}\n                onMouseMove={() => setSelected(index)}\n                selected={selected === index}\n                command={command}\n                setOpen={setOpen}\n              />\n            ))}\n          </motion.ul>\n        </motion.div>\n      </motion.div>\n    )}\n  </AnimatePresence>\n)\n```\n\n### Dynamically Setting Menu Height\n\nIf you saw the bar at the beginning, you have noticed that it expanded and shrunk based upon the amount of results. To do this, we can simply toggle the style prop of our listbox element containing our commands.\n\nSince each command is `64px` in height (you can check this through inspect element), we need to multiply our result length by 64 and set our `max-height` to a multiple of 64, depending on how many components we want on there at max. We also need to toggle overflow depending on this same parameter.\n\n```tsx:components/Menu/Menu.tsx\n<motion.ul\n  className='flex overflow-y-auto overflow-x-hidden flex-col w-full transition-all will-change-auto max-h-[320px]'\n  role='listbox'\n  style={{\n    height: results !== null ? results!.length * 64 : 0,\n    overflowY:\n      results !== null && results.length >= 5 ? 'scroll' : 'hidden',\n  }}\n>\n```\n\nAwesome. Our menu should be resizing smoothly too, as we have a transition property on there.\n\n### Scrolling Our Menu\n\nWe're almost done, but we still have something crucial left: scrolling our menu if we navigate it with our keyboard.\n\nThankfully, we have an awesome [Element.scrollTo() function](https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollTo) for this purpose. We'll also be using the [Intersection Observer API](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API) to observe changes in the intersection of our listbox and command.\n\nFor this, we'll begin by creating a custom React hook called `useInView`, simply taking in a ref and telling us if it's visible within the parent.\n\n```tsx:hooks/useInView.ts\nimport { RefObject, useEffect, useState } from 'react'\n\nconst useInView = (ref: RefObject<HTMLDivElement>) => {\n  const [intersecting, setIntersecting] = useState(false)\n  const observer = new IntersectionObserver(([entry]) =>\n    setIntersecting(entry.isIntersecting)\n  )\n\n  useEffect(() => {\n    observer.observe(ref.current!)\n    return () => observer.disconnect()\n  }, [ref])\n\n  return intersecting\n}\n\nexport default useInView\n```\n\nGreat. We now need _two_ refs and _two_ hooks to detect if it's in view at the top or the bottom, and scrolling based upon that. This might be a bit of a hacky/duct-tape solution, but it works.\n\nIf you're unsatisfied with this approach, it may be worth checking out the [react-intersection-observer](https://www.npmjs.com/package/react-intersection-observer) package.\n\n```tsx:hooks/useInView.ts\nconst topRef = useRef<HTMLDivElement>(null)\nconst bottomRef = useRef<HTMLDivElement>(null)\n\nconst inViewTop = useInView(topRef)\nconst inViewBottom = useInView(bottomRef)\n```\n\nLet's create two divs, and since they're non-interactive, we'll pass in `aria-hidden` to hide it from the accessibility API.\n\n```tsx:components/Menu/Menu.tsx\nconst Command: FC<{\n  command: Command\n  onMouseMove: () => void\n  selected: boolean\n  setOpen: Dispatch<SetStateAction<boolean>>\n}> = ({ command, onMouseMove, selected, setOpen }) => {\n  const topRef = useRef<HTMLDivElement>(null)\n  const bottomRef = useRef<HTMLDivElement>(null)\n  // ...\n  return (\n    <li>\n      <div aria-hidden='true' ref={topRef} />\n      <a\n        href='#'\n        className='flex relative text-lg items-center h-16 cursor-pointer'\n        onMouseMove={onMouseMove}\n        onClick={command.perform}\n      >\n        {selected && (\n          <motion.div\n            layoutId='box'\n            className='bg-[#00000010] absolute w-full h-16'\n            initial={false}\n            aria-hidden='true'\n            transition={{\n              type: 'spring',\n              stiffness: 1000,\n              damping: 70,\n            }}\n          />\n        )}\n        <div className='flex items-center relative w-full h-full ml-5'>\n          {command.icon}\n          <p className='max-w-[90%] w-fit m-0 overflow-hidden text-ellipsis text-lg text-black ml-2'>\n            {command.text}\n          </p>\n        </div>\n      </a>\n      <div aria-hidden='true' ref={bottomRef} />\n    </li>\n  )\n}\n```\n\nGreat. Now that we have that, let's create a `useEffect` hook which takes care of scrolling our menu. We'll just check if the component is selected, and if it's viewable or not. If it isn't, then we'll just simply scroll to the element.\n\n```tsx:components/Menu/Menu.tsx\nuseEffect(() => {\n  if (selected && (!inViewTop || !inViewBottom))\n    bottomRef.current?.scrollIntoView({\n      behavior: 'smooth',\n      block: 'end',\n    })\n}, [inViewTop, inViewBottom, selected])\n```\n\nAwesome, and that's all. Our listbox should now be automatically scrollable if we navigate it with our arrow keys.\n\n### Final Touches\n\nWe're almost done with our menu, and the functionality is nearly complete! Before we finish, we have to check if the user has clicked outside our menu, and close it accordingly.\n\nFor this, we'll create a custom hook which takes in a `ref` and a `handler`. We'll use event listeners for mobile and mouse to detect if the click or touch was inside our ref and close our menu accordingly.\n\n```ts:hooks/useClickOutside.ts\nimport { RefObject, useEffect } from 'react'\n\nconst useClickOutside = (\n  ref: RefObject<HTMLDivElement>,\n  handler: () => void\n) => {\n  useEffect(() => {\n    const listener = (event: MouseEvent) => {\n      if (!ref.current || ref.current.contains(event.target as Node)) return\n      handler()\n    }\n\n    const mobileListener = (event: TouchEvent) => {\n      if (!ref.current || ref.current.contains(event.target as Node)) return\n      handler()\n    }\n\n    document.addEventListener('mousedown', listener)\n    document.addEventListener('touchstart', mobileListener)\n    return () => {\n      document.removeEventListener('mousedown', listener)\n      document.removeEventListener('mousedown', listener)\n    }\n  }, [handler, ref])\n}\n\nexport default useClickOutside\n```\n\nInside our main component, let's just import it in and create a new ref for our menu.\n\n```tsx:components/Menu/Menu.tsx\nimport useClickOutside from '@hooks/useClickOutside'\n// ...\nconst menuRef = useRef<HTMLDivElement>(null)\nuseClickOutside(menuRef, () => setOpen(false))\n```\n\nAdditionally, make sure to actually assign it to your dialog component:\n\n```tsx:components/Menu/Menu.tsx\n<motion.div\n  className='w-[640px] will-change-auto relative bg-white rounded-lg shadow-2xl'\n  role='dialog'\n  aria-modal='true'\n  initial={{ opacity: 0, y: 40 }}\n  animate={{ opacity: 1, y: 0 }}\n  exit={{ opacity: 0, y: 40 }}\n  ref={menuRef}\n>\n```\n\nWe just built our own command menu. As a side note, you can also change the placeholder color inside our input to match your needs:\n\n```css:styles/global.css\ninput::placeholder {\n  @apply text-[#adb5bd];\n}\n```\n\n## Conclusion\n\nAnyways, with that, we're finished. If you have any errors setting up your command menu, feel free to comment down below or check out the [CodeSandbox] for reference.\n\nI'm curious to see what you make with this command menu. I think a good step forward to scaling this menu would be adding things like keywords, categories, or nested commands. Feel free to share some cool things you've made with it.\n\nDo remember to give [kmenu] a glance if you're interested in it, it's packed with awesome features and functionality.\n\nThat's all for today, until next time ðŸ‘‹\n\n[kmenu]: https://github.com/harshhhdev/kmenu\n[codesandbox]: https://gvlfsb.sse.codesandbox.io/\n",
    "code": "var Component=(()=>{var h=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var y=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var x=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),N=(n,e)=>{for(var l in e)c(n,l,{get:e[l],enumerable:!0})},d=(n,e,l,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let s of m(e))!u.call(n,s)&&s!==l&&c(n,s,{get:()=>e[s],enumerable:!(t=p(e,s))||t.enumerable});return n};var g=(n,e,l)=>(l=n!=null?h(y(n)):{},d(e||!n||!n.__esModule?c(l,\"default\",{value:n,enumerable:!0}):l,n)),f=n=>d(c({},\"__esModule\",{value:!0}),n);var r=x((C,i)=>{i.exports=_jsx_runtime});var k={};N(k,{default:()=>v,frontmatter:()=>w});var a=g(r()),w={title:\"Creating an Accessible Command Menu in React\",publishedAt:\"2021-12-31\",summary:\"Summary of a great year.\",image:\"/static/images/2021/banner.png\",category:\"personal\"};function o(n){let e=Object.assign({p:\"p\",a:\"a\",h2:\"h2\",span:\"span\",blockquote:\"blockquote\",div:\"div\",pre:\"pre\",code:\"code\",h3:\"h3\",em:\"em\"},n.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.p,{children:[\"Over the past few months, I've been building my very own \",(0,a.jsx)(e.a,{href:\"https://capiche.com/e/consumer-dev-tools-command-palette\",children:\"command menu component\"}),\" for \",(0,a.jsx)(e.a,{href:\"https://reactjs.org\",children:\"React\"}),\" called \",(0,a.jsx)(e.a,{href:\"https://github.com/harshhhdev/kmenu\",children:\"kmenu\"}),\". In this post, I want to go over how you can also create your own command menu.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"I originally gave this talk at about building a command menu at \",(0,a.jsx)(e.a,{href:\"https://www.meetup.com/react-jax/\",children:\"React JAX\"}),\" which you can watch on \",(0,a.jsx)(e.a,{href:\"https://youtu.be/2DL4QC0QrOg\",children:\"YouTube\"}),\". In the meanwhile, you can follow this tutorial or the \",(0,a.jsx)(e.a,{href:\"https://gvlfsb.sse.codesandbox.io/\",children:\"CodeSandbox\"}),\".\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Before we begin, do feel free to take a peek at \",(0,a.jsx)(e.a,{href:\"https://kmenu.hxrsh.in\",children:\"kmenu.hxrsh.in\"}),\" if you're interested in having a more sophisticated menu.\"]}),`\n`,(0,a.jsxs)(e.h2,{id:\"background\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#background\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Background\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Command menus have an interesting history, and the idea stemmed from basically having a simple and easy way to navigate through an application. The first example of this could be found in \",(0,a.jsx)(e.a,{href:\"https://www.sublimetext.com/blog/articles/sublime-text-2-beta\",children:\"Sublime Text\"}),\", as they announced the beta of Sublime Text 2. Pulled from their blog:\"]}),`\n`,(0,a.jsxs)(e.blockquote,{children:[`\n`,(0,a.jsx)(e.p,{children:\"The Command Palette provides a quick way to access commands that don't warrant a key binding, and would usually be hidden away in a menu. For example, turning Word Wrap on or off, or changing the syntax highlighting mode of the current file. It uses the same fuzzy matching as Goto Anything does, meaning most commands are accessible with just a few key presses.\"}),`\n`]}),`\n`,(0,a.jsxs)(e.p,{children:[\"This worked like a power tool, and led to more exploration and higher feature discoverability leading to it being adopted by code editors like \",(0,a.jsx)(e.a,{href:\"https://code.visualstudio.com/docs/getstarted/userinterface\",children:\"Visual Studio Code\"}),\". It wasn't long until these command palettes made their way onto web applications.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Companies such as \",(0,a.jsx)(e.a,{href:\"https://vercel.com\",children:\"Vercel\"}),\", \",(0,a.jsx)(e.a,{href:\"https://docs.github.com/en/get-started/using-github/github-command-palette\",children:\"GitHub\"}),\", \",(0,a.jsx)(e.a,{href:\"https://sentry.io/\",children:\"Sentry\"}),\", \",(0,a.jsx)(e.a,{href:\"https://linear.app\",children:\"Linear\"}),\", \",(0,a.jsx)(e.a,{href:\"https://railway.app/\",children:\"Railway\"}),\", \",(0,a.jsx)(e.a,{href:\"https://www.raycast.com/\",children:\"Raycast\"}),\" and several other web applications ended up adding a command menu to their websites as well. Even desktop applications such as \",(0,a.jsx)(e.a,{href:\"https://discord.com/\",children:\"Discord\"}),\", \",(0,a.jsx)(e.a,{href:\"https://figma.com\",children:\"Figma\"}),\" or \",(0,a.jsx)(e.a,{href:\"https://slack.com\",children:\"Slack\"}),\" feature a command menu to help users navigate their complex interfaces with ease.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"With that, there are a few different approaches for adding a command menu to your website: you can use an open source library (like \",(0,a.jsx)(e.a,{href:\"https://github.com/harshhhdev/kmenu\",children:\"kmenu\"}),\", \",(0,a.jsx)(e.a,{href:\"https://cmdk.paco.me/\",children:\"cmdk\"}),\", or \",(0,a.jsx)(e.a,{href:\"https://kbar.vercel.app/\",children:\"kbar\"}),\"), use a proprietary tool such as \",(0,a.jsx)(e.a,{href:\"commandbar.com\",children:\"CommandBar\"}),\", or build your own. This tutorial focuses on building your own implementation, however you may not need to depending on whether or not you're satisfied with the other options available.\"]}),`\n`,(0,a.jsx)(e.p,{children:\"As said above, in this post, we'll be focusing on building our own command menu implementation. Our menu will be accessible, fully animated, and you can customise it to your needs.\"}),`\n`,(0,a.jsxs)(e.h2,{id:\"getting-started\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#getting-started\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Getting Started\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Since we'll be using \",(0,a.jsx)(e.a,{href:\"https://tailwindcss.com\",children:\"Tailwind CSS\"}),\", I suggest you start by installing and configuring that. Skip over this if your project already uses Tailwind.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"bash:terminal\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"bash:terminal\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"# Install Tailwind with peer dependencies\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"yarn add tailwindcss postcss autoprefixer -D\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"# Generate the Tailwind and PostCSS configuration\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"yarn tailwindcss init -p\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Next, open up your \",(0,a.jsx)(e.code,{children:\"tailwind.config.js\"}),\" and add in your code directories under \",(0,a.jsx)(e.code,{children:\"content\"}),\". This varies depending upon whether or not you're using something like \",(0,a.jsx)(e.a,{href:\"https://tailwindcss.comdocs/guides/create-react-app\",children:\"Create React App\"}),\" or \",(0,a.jsx)(e.a,{href:\"https://tailwindcss.comdocs/guides/nextjs\",children:\"Next.js\"}),\".\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"This is also the time to import in any fonts. For my project, I'm going to use \",(0,a.jsx)(e.a,{href:\"https://github.com/usted/Albert-Sans\",children:\"Albert Sans\"}),\", the \",(0,a.jsx)(e.a,{href:\"https://twitter.com/googlefonts/status/1552983139219378176\",children:\"brand new font on Google Fonts\"}),\".\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"As a side note: I personally believe that \",(0,a.jsx)(e.a,{href:\"https://javascript.plainenglish.io/tailwind-is-an-anti-pattern-ed3f64f565f0\",children:\"Tailwind is an anti-pattern\"}),\", but I've only used it for the purposes of building this command menu quicker. If your website doesn't already include Tailwind, I heavily advocate that you use a regular CSS approach as opposed to this.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Make sure you also install \",(0,a.jsx)(e.a,{href:\"https://framer.com/motion\",children:\"Framer Motion\"}),\", a production-ready motion library for React. It'll help us in adding awesome motion animations to our command menu.\"]}),`\n`,(0,a.jsxs)(e.h3,{id:\"adding-commands\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#adding-commands\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Adding Commands\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"First, we'll create a \",(0,a.jsx)(e.code,{children:\"commands.tsx\"}),\" file at \",(0,a.jsx)(e.code,{children:\"components/Menu\"}),\", which will store all of our commands. I'm using \",(0,a.jsx)(e.a,{href:\"https://react-icons.github.io/react-icons/\",children:\"react-icons\"}),\", which essentially just bundles together all popular icon packs for easy use.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Anyways, let's begin by creating a \",(0,a.jsx)(e.code,{children:\"Command\"}),\" type before we create our array of objects:\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"ts:components/Menu/commands.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"ts:components/Menu/commands.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"import { ReactElement } from 'react'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"export type Command = {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  icon: ReactElement\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  text: string\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  perform: () => void\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"It's super simple: just an icon, some text, and a perform event which happens on click.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"Next, we'll create our command. Create an array of objects of type \",(0,a.jsx)(e.code,{children:\"Command\"}),\", and add in your commands:\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/commands.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/commands.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"// ...\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"import {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiFramer,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiTailwindcss,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiApple,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiVercel,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiTwitter,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiTesla,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiArchlinux,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiDeno,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiFlutter,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiGithub,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiNike,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  SiDiscord,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"} from 'react-icons/si'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"export const commands: Command[] = [\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiFramer />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Framer Motion',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://framer.com/motion', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiTailwind CSS />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Tailwind CSS',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('tailwindcss.com', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiApple />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Apple',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://apple.com', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiArchlinux />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Arch Linux',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://apple.com', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiVercel />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Vercel',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://vercel.com', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiTesla />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Tesla',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://tesla.com', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiDeno />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Deno',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://deno.land', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiDiscord />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Discord',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://discord.com', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiFlutter />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Flutter',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://flutter.dev/', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiGithub />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'GitHub',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://github.com/', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiNike />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Nike',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://nike.com/', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    icon: <SiTwitter />,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    text: 'Twitter',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    perform: () => window.open('https://twitter.com', '_blank'),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"]\"})})]})})}),`\n`,(0,a.jsxs)(e.h3,{id:\"building-our-menu\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#building-our-menu\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Building Our Menu\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Now that we finished adding commands, let's get started building our menu. Start by creating the skeleton, which we'll gradually add features to.\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const CommandMenu: FC = () => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  return (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    <motion.div\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      className='flex items-center justify-center overflow-hidden fixed w-screen h-screen select-none bg-[#e7e7e7e5]'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      initial={{ opacity: 0 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      animate={{ opacity: 1 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      exit={{ opacity: 0 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    >\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      <motion.div\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        className='w-[640px] will-change-auto relative bg-white rounded-lg shadow-2xl'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        role='dialog'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        aria-modal='true'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      >\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        <div className='flex items-center h-16 text-xl pointer-events-none'>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          <FiSearch className='ml-4' />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          <input\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            placeholder='Search for anything...'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            type='text'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            autoCapitalize='false'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            autoComplete='false'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            spellCheck='false'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            autoFocus\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            className='ml-4 outline-none w-full pointer-events-none'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        </div>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        <motion.ul\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          className='flex overflow-y-auto overflow-x-hidden flex-col w-full transition-all will-change-auto max-h-[320px]'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          role='listbox'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        >\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          {commands.map((command, index) => (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            // ...our command component, which we'll create later\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          ))}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        </motion.ul>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      </motion.div>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    </motion.div>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  )\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsxs)(e.h3,{id:\"creating-the-command-component\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#creating-the-command-component\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Creating The Command Component\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Awesome, now that we have our skeleton, let's create our command component. This will be the thing that we map onto our command menu.\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const Command: FC<{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  command: Command\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}> = ({ command }) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  return (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    <li>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      <a\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        href='#'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        className='flex relative text-lg items-center h-16 cursor-pointer'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        onClick={command.perform}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      >\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        <div className='flex items-center relative w-full h-full ml-5'>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          {command.icon}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          <p className='max-w-[90%] w-fit m-0 overflow-hidden text-ellipsis text-lg text-black ml-2'>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            {command.text}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          </p>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        </div>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      </a>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      <div aria-hidden='true' ref={bottomRef} />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    </li>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  )\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Awesome. Now, let's head back onto our main component make sure map the command component.\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  commands.map((command, index) => <Command key={index} command={command} />)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Cool. We should now see all of our commands on our screen. They may not look very pretty, but at least they work.\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"implementing-search\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#implementing-search\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Implementing Search\"]}),`\n`,(0,a.jsx)(e.p,{children:\"So, as you may have seen, this command menu has a search bar which you can use to search the commands.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"For this, we'll simply use two hook which contains an array of objects called \",(0,a.jsx)(e.code,{children:\"results\"}),\" and another hook for the current query:\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"import type { Command } from './commands.tsx'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"// ...\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const [query, setQuery] = useState('')\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const [results, setResults] = useState<Command[] | null>(null)\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Next, we'll create a filter function to filter our commands based upon a string.\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"ts:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"ts:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const filter = (query: string): Command[] =>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  commands.filter((command) =>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    command.text.toLowerCase().includes(query.toLowerCase())\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  )\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Next, we'll use a \",(0,a.jsx)(e.code,{children:\"useEffect\"}),\" hook to update the results every time the user types something onto the search bar.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"useEffect(\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  () => (query ? setResults(filter(query)) : setResults(null)),\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  [query, setQuery]\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\")\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Awesome. Now, let's go inside our \",(0,a.jsx)(e.code,{children:\"input\"}),\" component and make sure we update our \",(0,a.jsx)(e.code,{children:\"setQuery\"}),\" hook on change.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"<input\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  placeholder='Search for anything...'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  type='text'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  autoCapitalize='false'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  autoComplete='false'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  spellCheck='false'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  autoFocus\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  className='ml-4 outline-none w-full pointer-events-none'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  onChange={(event) => setQuery(event.currentTarget.value)}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"/>\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Next, we need to make sure that we map our results instead of the original commands. Head back into your map function and substitute \",(0,a.jsx)(e.code,{children:\"commands\"}),\" for \",(0,a.jsx)(e.code,{children:\"results\"}),\".\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  results?.map((command, index) => <Command key={index} command={command} />)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Awesome. Type something into your search bar, it should work.\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"handling-selection-states\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#handling-selection-states\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Handling Selection States\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Onto the next step: handling which command is currently selected. As you may have seen on the demo, each command could be selected with the keyboard, or if you hovered your mouse over it.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"In \",(0,a.jsx)(e.a,{href:\"https://github.com/harshhhdev/kmenu\",children:\"kmenu\"}),\", I used a \",(0,a.jsx)(e.a,{href:\"https://reactjs.org/docs/hooks-reference.html#usereducer\",children:\"Reducer\"}),\" for this, which is what I suggest you do if you're planning on expanding the features of this menu later on.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"However, for this, we'll just use a simple \",(0,a.jsx)(e.code,{children:\"useState\"}),\" hook:\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsx)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const [selected, setSelected] = useState(0)\"})})})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Firstly, let's go inside our \",(0,a.jsx)(e.code,{children:\"useEffect\"}),\" for updating our results and make sure we reset the state inside of there every time we search.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"useEffect(() => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  setSelected(0)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  return query ? setResults(filter(query)) : setResults(null)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}, [query, setQuery])\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Awesome. Let's create a \",(0,a.jsx)(e.code,{children:\"navigation\"}),\" function which we'll wrap around a \",(0,a.jsx)(e.code,{children:\"useCallback\"}),\", which will contain logic for changing the selection with our keyboard.\"]}),`\n`,(0,a.jsx)(e.p,{children:\"This checks for things like whether or not we're at the start or end of our command menu, and also works with using the tab keys.\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const navigation = useCallback(\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  (event: KeyboardEvent) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    if (results !== null) {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      const length = results.length - 1\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      if (event.key === 'ArrowUp' || (event.key === 'Tab' && event.shiftKey)) {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        event.preventDefault()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        setSelected(() => (selected === 0 ? 0 : selected - 1))\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      } else if (event.key === 'ArrowDown' || event.key === 'Tab') {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        event.preventDefault()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        setSelected(selected === length ? length : selected + 1)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  [results, selected]\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\")\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Make sure you create a new \",(0,a.jsx)(e.code,{children:\"useEffect\"}),\" hook for adding and removing event listeners.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"useEffect(() => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  window.addEventListener('keydown', navigation)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  return () => window.removeEventListener('keydown', navigation)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}, [navigation])\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Cool. Let's now go into our \",(0,a.jsx)(e.code,{children:\"Command\"}),\" component and add in props to handle selection.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const Command: FC<{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  command: Command\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  onMouseMove: () => void\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  selected: boolean\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}> = ({ command, onMouseMove, selected }) => {\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"...and since we've done that, we need to change our map accordingly.\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  results?.map((command, index) => (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    <Command\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      key={index}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      onMouseMove={() => setSelected(index)}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      selected={selected === index}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      command={command}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  ))\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Next, we'll create a \",(0,a.jsx)(e.code,{children:\"perform\"}),\" function which would be inside a \",(0,a.jsx)(e.code,{children:\"useCallback\"}),\" hook, essentially checking whether or not the user has pressed the enter key and if the command is currently selected. If it is, then just run the perform function.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const perform = useCallback(\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  (event: KeyboardEvent) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    if (event.key === 'Enter' && selected) return command.perform()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  [command, selected]\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\")\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"useEffect(() => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  window.addEventListener('keydown', perform)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  return () => window.removeEventListener('keydown', perform)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"})\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Let's also make sure we select a command when we hover over it. For this, we'll pass in our \",(0,a.jsx)(e.code,{children:\"onMouseMove\"}),\" prop onto our element:\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"<a\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  href='#'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  className='flex relative text-lg items-center h-16 cursor-pointer'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  onMouseMove={onMouseMove}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  onClick={command.perform}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\">\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"We should now be able to navigate through our command menu with our arrow keys and enter, but we have no indication of which component we're currently on. To do so, let's add a bar which smoothly animates over onto our component when we select it.\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  selected && (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    <motion.div\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      layoutId='box'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      className='bg-[#00000010] absolute w-full h-16'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      initial={false}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      aria-hidden='true'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      transition={{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        type: 'spring',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        stiffness: 1000,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        damping: 70,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  )\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"We're making some awesome progress, and our command menu should now be navigable with our arrow keys or hovering over options.\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"toggling-the-menu\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#toggling-the-menu\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Toggling The Menu\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Let's move onto another important toggling our command menu. We'll also be using a hook for this:\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsx)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const [open, setOpen] = useState(false)\"})})})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Awesome. Let's create a function called \",(0,a.jsx)(e.code,{children:\"toggle\"}),\", in which we handle the state of the bar for both computers and mobile phones.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const toggle = (event: KeyboardEvent) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  if ((event.ctrlKey || event.metaKey) && event.key === 'k') {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    event.preventDefault()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    setOpen((open) => !open)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    setQuery('')\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    setResults(null)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  if (event.key === 'Escape') {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    setOpen(false)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    setQuery('')\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    setResults(null)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const mobileToggle = (event: TouchEvent) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  if (event.touches.length >= 2) {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    event.preventDefault()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    setOpen((open) => !open)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Here, it checks if we've pressed cmd+k on our keyboard (if we're on PC) to toggle our menu. If instead we've pressed \",(0,a.jsx)(e.code,{children:\"Escape\"}),\", it closes our menu. For mobile phones, it just checks if the user has double tapped on their screen to close the menu. We will also work on toggling the menu if the user clicks outside later.\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Anyways, add more event listeners for these commands:\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"useEffect(() => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  window.addEventListener('keydown', toggle)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  window.addEventListener('touchstart', mobileToggle)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  return () => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    window.removeEventListener('keydown', toggle)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    window.removeEventListener('touchstart', mobileToggle)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}, [])\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Let's also go inside our navigation command and check if our bar is actually open so we don't disable tab functionality.\"}),`\n`,(0,a.jsx)(e.p,{children:\"Just add a simple check at the top of the if-statement, and also add it to the dependency array:\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const navigation = useCallback(\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  (event: KeyboardEvent) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    if (results !== null && open) {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      const length = results.length - 1\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      if (event.key === 'ArrowUp' || (event.key === 'Tab' && event.shiftKey)) {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        event.preventDefault()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        setSelected(() => (selected === 0 ? 0 : selected - 1))\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      } else if (event.key === 'ArrowDown' || event.key === 'Tab') {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        event.preventDefault()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        setSelected(selected === length ? length : selected + 1)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  [results, selected, open]\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\")\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"After we've done that, we also need to make that our bar actually closes after we run a command. For this, we need to pass it in as a prop on the component:\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const Command: FC<{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  command: Command\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  onMouseMove: () => void\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  selected: boolean\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  setOpen: Dispatch<SetStateAction<boolean>>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}> = ({ command, onMouseMove, selected, setOpen }) => {\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"...and after we've done that, let's just update our map function:\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  results?.map((command, index) => (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    <Command\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      key={index}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      onMouseMove={() => setSelected(index)}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      selected={selected === index}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      command={command}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      setOpen={setOpen}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  ))\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Now, inside of our \",(0,a.jsx)(e.code,{children:\"perform\"}),\" function, just close the menu and add the hook to the dependency array.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const perform = useCallback(\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  (event: KeyboardEvent) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    if (event.key === 'Enter' && selected) {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      setOpen(false)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      return command.perform()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  },\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  [command, selected, setOpen]\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\")\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Let's finish this off by actually creating a toggle state for the bar and toggling its appearance, we'll be using \",(0,a.jsx)(e.a,{href:\"https://www.framer.com/docs/animate-presence/\",children:\"AnimatePresence\"}),\" to animate components as they're removed from the React tree.\"]}),`\n`,(0,a.jsx)(e.p,{children:\"Let's move our entire component inside of this:\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"import { AnimatePresence } from 'framer-motion'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"// ...\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"return (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  <AnimatePresence>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    {open && (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      <motion.div\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        className='flex items-center justify-center overflow-hidden fixed w-screen h-screen select-none bg-[#e7e7e7e5]'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        initial={{ opacity: 0 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        animate={{ opacity: 1 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        exit={{ opacity: 0 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      >\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        <motion.div\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          className='w-[640px] will-change-auto relative bg-white rounded-lg shadow-2xl'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          role='dialog'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          aria-modal='true'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          initial={{ opacity: 0, y: 40 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          animate={{ opacity: 1, y: 0 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          exit={{ opacity: 0, y: 40 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        >\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          <div className='flex items-center h-16 text-xl pointer-events-none'>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            <FiSearch className='ml-4' />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            <input\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              placeholder='Search for anything...'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              type='text'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              autoCapitalize='false'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              autoComplete='false'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              spellCheck='false'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              autoFocus\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              className='ml-4 outline-none w-full pointer-events-none'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              onChange={(event) => setQuery(event.currentTarget.value)}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          </div>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          <motion.ul\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            className='flex overflow-y-auto overflow-x-hidden flex-col w-full transition-all will-change-auto max-h-[320px]'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            role='listbox'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          >\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            {results?.map((command, index) => (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              <Command\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"                key={index}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"                onMouseMove={() => setSelected(index)}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"                selected={selected === index}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"                command={command}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"                setOpen={setOpen}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            ))}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          </motion.ul>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        </motion.div>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      </motion.div>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    )}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  </AnimatePresence>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\")\"})})]})})}),`\n`,(0,a.jsxs)(e.h3,{id:\"dynamically-setting-menu-height\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#dynamically-setting-menu-height\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Dynamically Setting Menu Height\"]}),`\n`,(0,a.jsx)(e.p,{children:\"If you saw the bar at the beginning, you have noticed that it expanded and shrunk based upon the amount of results. To do this, we can simply toggle the style prop of our listbox element containing our commands.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"Since each command is \",(0,a.jsx)(e.code,{children:\"64px\"}),\" in height (you can check this through inspect element), we need to multiply our result length by 64 and set our \",(0,a.jsx)(e.code,{children:\"max-height\"}),\" to a multiple of 64, depending on how many components we want on there at max. We also need to toggle overflow depending on this same parameter.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"<motion.ul\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  className='flex overflow-y-auto overflow-x-hidden flex-col w-full transition-all will-change-auto max-h-[320px]'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  role='listbox'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  style={{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    height: results !== null ? results!.length * 64 : 0,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    overflowY:\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      results !== null && results.length >= 5 ? 'scroll' : 'hidden',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\">\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Awesome. Our menu should be resizing smoothly too, as we have a transition property on there.\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"scrolling-our-menu\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#scrolling-our-menu\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Scrolling Our Menu\"]}),`\n`,(0,a.jsx)(e.p,{children:\"We're almost done, but we still have something crucial left: scrolling our menu if we navigate it with our keyboard.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"Thankfully, we have an awesome \",(0,a.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollTo\",children:\"Element.scrollTo() function\"}),\" for this purpose. We'll also be using the \",(0,a.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\",children:\"Intersection Observer API\"}),\" to observe changes in the intersection of our listbox and command.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"For this, we'll begin by creating a custom React hook called \",(0,a.jsx)(e.code,{children:\"useInView\"}),\", simply taking in a ref and telling us if it's visible within the parent.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:hooks/useInView.ts\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:hooks/useInView.ts\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"import { RefObject, useEffect, useState } from 'react'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const useInView = (ref: RefObject<HTMLDivElement>) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  const [intersecting, setIntersecting] = useState(false)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  const observer = new IntersectionObserver(([entry]) =>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    setIntersecting(entry.isIntersecting)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  )\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  useEffect(() => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    observer.observe(ref.current!)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    return () => observer.disconnect()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  }, [ref])\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  return intersecting\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"export default useInView\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Great. We now need \",(0,a.jsx)(e.em,{children:\"two\"}),\" refs and \",(0,a.jsx)(e.em,{children:\"two\"}),\" hooks to detect if it's in view at the top or the bottom, and scrolling based upon that. This might be a bit of a hacky/duct-tape solution, but it works.\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"If you're unsatisfied with this approach, it may be worth checking out the \",(0,a.jsx)(e.a,{href:\"https://www.npmjs.com/package/react-intersection-observer\",children:\"react-intersection-observer\"}),\" package.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:hooks/useInView.ts\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:hooks/useInView.ts\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const topRef = useRef<HTMLDivElement>(null)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const bottomRef = useRef<HTMLDivElement>(null)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const inViewTop = useInView(topRef)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const inViewBottom = useInView(bottomRef)\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Let's create two divs, and since they're non-interactive, we'll pass in \",(0,a.jsx)(e.code,{children:\"aria-hidden\"}),\" to hide it from the accessibility API.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const Command: FC<{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  command: Command\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  onMouseMove: () => void\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  selected: boolean\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  setOpen: Dispatch<SetStateAction<boolean>>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}> = ({ command, onMouseMove, selected, setOpen }) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  const topRef = useRef<HTMLDivElement>(null)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  const bottomRef = useRef<HTMLDivElement>(null)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  // ...\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  return (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    <li>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      <div aria-hidden='true' ref={topRef} />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      <a\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        href='#'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        className='flex relative text-lg items-center h-16 cursor-pointer'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        onMouseMove={onMouseMove}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        onClick={command.perform}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      >\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        {selected && (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          <motion.div\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            layoutId='box'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            className='bg-[#00000010] absolute w-full h-16'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            initial={false}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            aria-hidden='true'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            transition={{\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              type: 'spring',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              stiffness: 1000,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"              damping: 70,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        )}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        <div className='flex items-center relative w-full h-full ml-5'>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          {command.icon}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          <p className='max-w-[90%] w-fit m-0 overflow-hidden text-ellipsis text-lg text-black ml-2'>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"            {command.text}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"          </p>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"        </div>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      </a>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      <div aria-hidden='true' ref={bottomRef} />\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    </li>\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  )\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsxs)(e.p,{children:[\"Great. Now that we have that, let's create a \",(0,a.jsx)(e.code,{children:\"useEffect\"}),\" hook which takes care of scrolling our menu. We'll just check if the component is selected, and if it's viewable or not. If it isn't, then we'll just simply scroll to the element.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"useEffect(() => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  if (selected && (!inViewTop || !inViewBottom))\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    bottomRef.current?.scrollIntoView({\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      behavior: 'smooth',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      block: 'end',\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    })\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}, [inViewTop, inViewBottom, selected])\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Awesome, and that's all. Our listbox should now be automatically scrollable if we navigate it with our arrow keys.\"}),`\n`,(0,a.jsxs)(e.h3,{id:\"final-touches\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#final-touches\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Final Touches\"]}),`\n`,(0,a.jsx)(e.p,{children:\"We're almost done with our menu, and the functionality is nearly complete! Before we finish, we have to check if the user has clicked outside our menu, and close it accordingly.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"For this, we'll create a custom hook which takes in a \",(0,a.jsx)(e.code,{children:\"ref\"}),\" and a \",(0,a.jsx)(e.code,{children:\"handler\"}),\". We'll use event listeners for mobile and mouse to detect if the click or touch was inside our ref and close our menu accordingly.\"]}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"ts:hooks/useClickOutside.ts\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"ts:hooks/useClickOutside.ts\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"import { RefObject, useEffect } from 'react'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const useClickOutside = (\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  ref: RefObject<HTMLDivElement>,\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  handler: () => void\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\") => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  useEffect(() => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    const listener = (event: MouseEvent) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      if (!ref.current || ref.current.contains(event.target as Node)) return\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      handler()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    const mobileListener = (event: TouchEvent) => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      if (!ref.current || ref.current.contains(event.target as Node)) return\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      handler()\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    document.addEventListener('mousedown', listener)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    document.addEventListener('touchstart', mobileListener)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    return () => {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      document.removeEventListener('mousedown', listener)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"      document.removeEventListener('mousedown', listener)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"    }\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  }, [handler, ref])\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"}})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"export default useClickOutside\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Inside our main component, let's just import it in and create a new ref for our menu.\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"import useClickOutside from '@hooks/useClickOutside'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"// ...\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"const menuRef = useRef<HTMLDivElement>(null)\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"useClickOutside(menuRef, () => setOpen(false))\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"Additionally, make sure to actually assign it to your dialog component:\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"tsx:components/Menu/Menu.tsx\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"<motion.div\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  className='w-[640px] will-change-auto relative bg-white rounded-lg shadow-2xl'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  role='dialog'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  aria-modal='true'\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  initial={{ opacity: 0, y: 40 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  animate={{ opacity: 1, y: 0 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  exit={{ opacity: 0, y: 40 }}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  ref={menuRef}\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\">\"})})]})})}),`\n`,(0,a.jsx)(e.p,{children:\"We just built our own command menu. As a side note, you can also change the placeholder color inside our input to match your needs:\"}),`\n`,(0,a.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,a.jsx)(e.pre,{className:\"poimandres\",style:{backgroundColor:\"#1b1e28\"},tabIndex:\"0\",\"data-language\":\"css:styles/global.css\",\"data-theme\":\"default\",children:(0,a.jsxs)(e.code,{\"data-language\":\"css:styles/global.css\",\"data-theme\":\"default\",style:{display:\"grid\"},children:[(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"input::placeholder {\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"  @apply text-[#adb5bd];\"})}),`\n`,(0,a.jsx)(e.span,{className:\"syntax-line\",\"data-line\":\"\",children:(0,a.jsx)(e.span,{style:{color:\"#a6accd\"},children:\"}\"})})]})})}),`\n`,(0,a.jsxs)(e.h2,{id:\"conclusion\",children:[(0,a.jsx)(e.a,{className:\"anchor\",href:\"#conclusion\",children:(0,a.jsx)(e.span,{className:\"icon icon-link\"})}),\"Conclusion\"]}),`\n`,(0,a.jsxs)(e.p,{children:[\"Anyways, with that, we're finished. If you have any errors setting up your command menu, feel free to comment down below or check out the \",(0,a.jsx)(e.a,{href:\"https://gvlfsb.sse.codesandbox.io/\",children:\"CodeSandbox\"}),\" for reference.\"]}),`\n`,(0,a.jsx)(e.p,{children:\"I'm curious to see what you make with this command menu. I think a good step forward to scaling this menu would be adding things like keywords, categories, or nested commands. Feel free to share some cool things you've made with it.\"}),`\n`,(0,a.jsxs)(e.p,{children:[\"Do remember to give \",(0,a.jsx)(e.a,{href:\"https://github.com/harshhhdev/kmenu\",children:\"kmenu\"}),\" a glance if you're interested in it, it's packed with awesome features and functionality.\"]}),`\n`,(0,a.jsx)(e.p,{children:\"That's all for today, until next time \\u{1F44B}\"})]})}function b(n={}){let{wrapper:e}=n.components||{};return e?(0,a.jsx)(e,Object.assign({},n,{children:(0,a.jsx)(o,n)})):o(n)}var v=b;return f(k);})();\n;return Component;"
  },
  "_id": "writing/cmdk.mdx",
  "_raw": {
    "sourceFilePath": "writing/cmdk.mdx",
    "sourceFileName": "cmdk.mdx",
    "sourceFileDir": "writing",
    "contentType": "mdx",
    "flattenedPath": "writing/cmdk"
  },
  "type": "Writing",
  "readingTime": {
    "text": "17 min read",
    "minutes": 16.845,
    "time": 1010700,
    "words": 3369
  },
  "wordCount": 3371,
  "slug": "cmdk"
}